<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard — आदित्य ज्योतिष अनुसंधान एवं परामर्श केन्द्र</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@300;400;600&family=Noto+Sans+Devanagari:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    body { background: #0c0c0c; color: #000207; }
    .login-container {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #fdfbfb;
    }
    .login-form {
      background: #f2f3f5; /* marble gray */
      background-image: linear-gradient(180deg, rgba(255,255,255,0.65), rgba(242,243,245,0.65));
      border: 1px solid #dcdfe6;
      border-radius: 16px;
      padding: 40px;
      width: 100%;
      max-width: 400px;
      box-shadow: 0 8px 24px rgba(238, 228, 228, 0.08);
    }
    .login-form h2 {
      text-align: center;
      margin-bottom: 30px;
      color: var(--accent);
    }
    .form-group {
      margin-bottom: 20px;
    }
    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: var(--fg);
    }
    .form-group input {
      width: 100%;
      padding: 12px;
      border: 1px solid var(--border);
      border-radius: 8px;
      background: #fff !important;
      color: #000 !important;
      font-size: 16px;
    }
    .dashboard {
      display: none;
      padding: 20px;
      background: #ffffff;
      color: rgb(10, 10, 17);
    }
    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--border);
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    .stat-card {
      background: #f2f3f5; /* marble gray */
      background-image: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(242,243,245,0.6));
      border: 1px solid #dcdfe6;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 6px 18px rgba(0,0,0,0.06);
    }
    .stat-number {
      font-size: 2em;
      font-weight: 700;
      color: var(--accent);
    }
    .enquiries-table {
      background: #f2f3f5; /* marble gray */
      border: 1px solid #dcdfe6;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 6px 18px rgba(0,0,0,0.06);
    }
    .enquiries-table table {
      width: 100%;
      border-collapse: collapse;
    }
    .enquiries-table th,
    .enquiries-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }
    .enquiries-table th {
      background: #eceff3; /* lighter marble header */
      font-weight: 600;
    }
    .status-badge {
      padding: 4px 8px;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 600;
    }
    .status-new { background: rgba(231,177,10,0.2); color: var(--accent); }
    .status-read { background: rgba(180, 230, 180, 0.2); color: #c6e7c6; }
    .status-replied { background: rgba(0,0,255,0.2); color: #0080ff; }
  </style>
</head>
<body>
  <div class="login-container" id="loginContainer">
    <div class="login-form">
      <h2>Admin Login<br><span class="hindi-text">एडमिन लॉगिन</span></h2>
      <form id="adminLoginForm">
        <div class="form-group">
          <label>Admin ID / एडमिन आईडी</label>
          <input type="text" id="adminId" required placeholder="Enter Admin ID / एडमिन आईडी दर्ज करें">
        </div>
        <div class="form-group">
          <label>Password / पासवर्ड</label>
          <input type="password" id="adminPassword" required placeholder="Enter Password / पासवर्ड दर्ज करें">
        </div>
        <button type="submit" class="btn btn-primary" style="width: 100%;">Login / लॉगिन</button>
      </form>
      <div style="text-align: center; margin-top: 20px;">
        <a href="index.html" class="btn btn-primary">Back to Website / वेबसाइट पर वापस</a>
      </div>
    </div>
  </div>

  <div class="dashboard" id="dashboard">
    <div class="dashboard-header">
      <h1>Admin Dashboard<br><span class="hindi-text">एडमिन डैशबोर्ड</span></h1>
      <div>
        <button class="btn btn-primary" onclick="logout()">Logout / लॉगआउट</button>
        <a href="index.html" class="btn btn-primary">View Website / वेबसाइट देखें</a>
      </div>
    </div>

    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-number" id="totalEnquiries">0</div>
        <div>Total Enquiries / कुल पूछताछ</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="newEnquiries">0</div>
        <div>New Enquiries / नई पूछताछ</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="repliedEnquiries">0</div>
        <div>Replied / जवाब दिया</div>
      </div>
    </div>

    <div class="enquiries-table">
      <h3 style="padding: 20px; margin: 0;">Recent Enquiries / हाल की पूछताछ</h3>
      <table>
        <thead>
          <tr>
            <th>Name / नाम</th>
            <th>Email / ईमेल</th>
            <th>Phone / फोन</th>
            <th>Service / सेवा</th>
            <th>Date / तारीख</th>
            <th>Status / स्थिति</th>
            <th>Actions / कार्य</th>
          </tr>
        </thead>
        <tbody id="enquiriesTableBody">
          <!-- Enquiries will be loaded here -->
        </tbody>
      </table>
    </div>
  </div>

  <script>
    // Admin credentials
    const ADMIN_ID = 'rajeev123';
    const ADMIN_PASSWORD = '226021';

    // Check if already logged in
    if (localStorage.getItem('adminLoggedIn') === 'true') {
      showDashboard();
    }

    document.getElementById('adminLoginForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const id = document.getElementById('adminId').value;
      const password = document.getElementById('adminPassword').value;
      
      if (id === ADMIN_ID && password === ADMIN_PASSWORD) {
        localStorage.setItem('adminLoggedIn', 'true');
        showDashboard();
      } else {
        alert('Invalid credentials / गलत क्रेडेंशियल');
      }
    });

    function showDashboard() {
      document.getElementById('loginContainer').style.display = 'none';
      document.getElementById('dashboard').style.display = 'block';
      loadEnquiries();
    }

    function logout() {
      localStorage.removeItem('adminLoggedIn');
      location.reload();
    }

    function loadEnquiries() {
      const enquiries = JSON.parse(localStorage.getItem('enquiries') || '[]');
      
      document.getElementById('totalEnquiries').textContent = enquiries.length;
      document.getElementById('newEnquiries').textContent = enquiries.filter(e => e.status === 'new').length;
      document.getElementById('repliedEnquiries').textContent = enquiries.filter(e => e.status === 'replied').length;
      
      const tbody = document.getElementById('enquiriesTableBody');
      tbody.innerHTML = '';
      
      enquiries.reverse().forEach(enquiry => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${enquiry.name}</td>
          <td>${enquiry.email}</td>
          <td>${enquiry.phone}</td>
          <td>${enquiry.service}</td>
          <td>${new Date(enquiry.date).toLocaleDateString()}</td>
          <td><span class="status-badge status-${enquiry.status}">${enquiry.status}</span></td>
          <td>
            <button onclick="markAsRead('${enquiry.id}')" class="btn btn-gprimary" style="padding: 4px 8px; font-size: 12px;">Mark Read</button>
            <button onclick="replyToEnquiry('${enquiry.id}')" class="btn btn-primary" style="padding: 4px 8px; font-size: 12px;">Reply</button>
          </td>
        `;
        tbody.appendChild(row);
      });
    }

    function markAsRead(id) {
      const enquiries = JSON.parse(localStorage.getItem('enquiries') || '[]');
      const enquiry = enquiries.find(e => e.id === id);
      if (enquiry) {
        enquiry.status = 'read';
        localStorage.setItem('enquiries', JSON.stringify(enquiries));
        loadEnquiries();
      }
    }

    function replyToEnquiry(id) {
      const enquiries = JSON.parse(localStorage.getItem('enquiries') || '[]');
      const enquiry = enquiries.find(e => e.id === id);
      if (enquiry) {
        enquiry.status = 'replied';
        localStorage.setItem('enquiries', JSON.stringify(enquiries));
        
        // Open email client
        const subject = `Re: Your enquiry for ${enquiry.service}`;
        const body = `Dear ${enquiry.name},\n\nThank you for your enquiry. We will get back to you soon.\n\nBest regards,\nRajeev Pandey`;
        window.open(`mailto:${enquiry.email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`);
        
        loadEnquiries();
      }
    }
  </script>
</body>
</html>
